<?xml version="1.0" encoding="utf-8"?>

<APP>
	<AppName>word_count_test</AppName>
	<Description>echo</Description>

	<Topology>
		<ProcessorNum>8</ProcessorNum>
		<Importer>
			<Importer1>
				<ProcessorName>echo_importer1</ProcessorName>
				<Description></Description>
        <RunCmd>./echo_importer</RunCmd>
				<Resource>
					<CPU>0.5</CPU>
					<Memory>16000</Memory>
				</Resource>
				<Parallelism>1</Parallelism>	
				<BackupPENum>1</BackupPENum>
        <StatusMark>0</StatusMark>	
        <TuplesBatchCount>10</TuplesBatchCount>			
				<Subscribe>./echo_importer1.conf.xml</Subscribe>
			</Importer1>
			<Importer2>
				<ProcessorName>echo_importer2</ProcessorName>
				<Description></Description>
        <RunCmd>./echo_importer</RunCmd>
				<Resource>
					<CPU>0.5</CPU>
					<Memory>16000</Memory>
				</Resource>
				<Parallelism>1</Parallelism>	
				<BackupPENum>1</BackupPENum>
        <StatusMark>0</StatusMark>	
        <TuplesBatchCount>10</TuplesBatchCount>			
				<Subscribe>./echo_importer2.conf.xml</Subscribe>
			</Importer2>
		</Importer>
		<Exporter>
			<Exporter1>
				<ProcessorName>echo_exporter</ProcessorName>
				<RunCmd>./bin/export</RunCmd>
				<Resource>
					<CPU>0.5</CPU>
					<Memory>16000</Memory>
				</Resource>
				<Parallelism>1</Parallelism>
				<BackupPENum>1</BackupPENum>
        <StatusMark>0</StatusMark>
				<TuplesBatchCount>10</TuplesBatchCount>				
				<Subscribe>
					<source>
						<processor>echo_pe_task_level3_p1</processor>
						<tag>in</tag>
					</source>
					<source>
						<processor>echo_pe_task_level3_p2</processor>
						<tag>in</tag>
					</source>
				</Subscribe>
			</Exporter1>
		</Exporter>
		<Processor>
			<Processor1>
				<ProcessorName>echo_pe_task_level1_p1</ProcessorName>
				<Description></Description>
       	<RunCmd>./echo_pe_task_level1</RunCmd>
				<Resource>
					<CPU>0.5</CPU>
					<Memory>16000</Memory>
				</Resource>
				<Parallelism>3</Parallelism>
				<BackupPENum>1</BackupPENum>
        <StatusMark>0</StatusMark>
				<TuplesBatchCount>10</TuplesBatchCount>				
				<Subscribe>
					<source>
						<processor>echo_importer1</processor>
						<tag>in</tag>
					</source>
				</Subscribe>
			</Processor1>
			<Processor2>
				<ProcessorName>echo_pe_task_level1_p2</ProcessorName>
				<Description></Description>
       	<RunCmd>./echo_pe_task_level1</RunCmd>
				<Resource>
					<CPU>0.5</CPU>
					<Memory>16000</Memory>
				</Resource>
				<Parallelism>2</Parallelism>
				<BackupPENum>1</BackupPENum>
        <StatusMark>0</StatusMark>
				<TuplesBatchCount>10</TuplesBatchCount>				
				<Subscribe>
					<source>
						<processor>echo_importer2</processor>
						<tag>in</tag>
					</source>
				</Subscribe>
			</Processor2>
			<Processor3>
				<ProcessorName>echo_pe_task_level2</ProcessorName>
				<Description></Description>
				<Description></Description>
       	<RunCmd>./echo_pe_task_level2</RunCmd>
				<Resource>
					<CPU>0.5</CPU>
					<Memory>16000</Memory>
				</Resource>
				<Parallelism>4</Parallelism>
				<BackupPENum>1</BackupPENum>
        <StatusMark>0</StatusMark>
				<TuplesBatchCount>10</TuplesBatchCount>				
				<Subscribe>
					<source>
						<processor>echo_pe_task_level1_p1</processor>
						<tag>in</tag>
					</source>
					<source>
						<processor>echo_pe_task_level1_p1</processor>
						<tag>in_2</tag>
					</source>
					<source>
						<processor>echo_pe_task_level1_p1</processor>
						<tag>in_3</tag>
					</source>
					<source>
						<processor>echo_pe_task_level1_p2</processor>
						<tag>in</tag>
					</source>
					<source>
						<processor>echo_pe_task_level1_p2</processor>
						<tag>in_2</tag>
					</source>
					<source>
						<processor>echo_pe_task_level1_p2</processor>
						<tag>in_3</tag>
					</source>
				</Subscribe>
			</Processor3>
			<Processor4>
				<ProcessorName>echo_pe_task_level3_p1</ProcessorName>
				<Description></Description>
				<Description></Description>
       	<RunCmd>./echo_pe_task_level3</RunCmd>
				<Resource>
					<CPU>0.5</CPU>
					<Memory>16000</Memory>
				</Resource>
				<Parallelism>2</Parallelism>
				<BackupPENum>1</BackupPENum>
        <StatusMark>0</StatusMark>
				<TuplesBatchCount>10</TuplesBatchCount>				
				<Subscribe>
					<source>
						<processor>echo_pe_task_level2</processor>
						<tag>in</tag>
					</source>
					<source>
						<processor>echo_pe_task_level1_p1</processor>
						<tag>in</tag>
					</source>
				</Subscribe>
			</Processor4>
			<Processor5>
				<ProcessorName>echo_pe_task_level3_p2</ProcessorName>
				<Description></Description>
				<Description></Description>
       	<RunCmd>./echo_pe_task_level3</RunCmd>
				<Resource>
					<CPU>0.5</CPU>
					<Memory>16000</Memory>
				</Resource>
				<Parallelism>2</Parallelism>
				<BackupPENum>1</BackupPENum>
        <StatusMark>0</StatusMark>
				<TuplesBatchCount>10</TuplesBatchCount>				
				<Subscribe>
					<source>
						<processor>echo_pe_task_level2</processor>
						<tag>in</tag>
					</source>
				</Subscribe>
			</Processor5>
		</Processor>
	</Topology>
</APP>
